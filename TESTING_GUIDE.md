# サイト全体動作確認ガイド

このドキュメントでは、イベントプラットフォーム全体の動作確認手順を説明します。

## 📋 前提条件

### 1. 開発サーバーの起動

以下の3つのアプリケーションを起動してください：

```bash
# ターミナル1: 出店者アプリ（Store）
cd store && npm run dev
# → http://localhost:3001 で起動

# ターミナル2: 主催者アプリ（Organizer）
cd organizer && npm run dev
# → http://localhost:3002 で起動

# ターミナル3: 管理者アプリ（Admin）
cd admin && npm run dev
# → http://localhost:3000 で起動
```

### 2. テストアカウントの準備

動作確認には以下のアカウントが必要です：
- **出店者アカウント**（Store用）
- **主催者アカウント**（Organizer用）
- **管理者アカウント**（Admin用、オプション）

---

## 🟢 出店者アプリ（Store）の動作確認

**URL**: http://localhost:3001

### 1. 認証・登録フロー

#### 1.1 新規登録
1. トップページにアクセス
2. 「新規登録」ボタンをクリック
3. メールアドレスとパスワードを入力して登録
4. 確認メールが送信されることを確認
5. メール内のリンクをクリックしてメール確認を完了

#### 1.2 ログイン
1. 「ログイン」ボタンをクリック
2. 登録済みのメールアドレスとパスワードを入力
3. ログインが成功し、ダッシュボードに遷移することを確認

#### 1.3 パスワードリセット
1. ログインページで「パスワードを忘れた場合」をクリック
2. メールアドレスを入力
3. リセットメールが送信されることを確認
4. メール内のリンクから新しいパスワードを設定

### 2. オンボーディング（プロフィール作成）

1. ログイン後、未登録の場合はオンボーディングページに遷移
2. 以下の情報を入力：
   - 店舗名
   - 代表者名
   - メールアドレス
   - 電話番号
   - ジャンル
   - ウェブサイト（オプション）
   - 自己紹介（オプション）
3. 必要書類をアップロード：
   - 営業許可証
   - 車検証
   - 自賠責保険証
   - 防火設備配置図
4. 「登録する」ボタンをクリック
5. 登録が完了し、ダッシュボードに遷移することを確認

### 3. イベント検索・閲覧

#### 3.1 イベント一覧
1. ダッシュボード（トップページ）にアクセス
2. イベント一覧が表示されることを確認
3. 検索バーでイベントを検索
4. イベントカードが正しく表示されることを確認

#### 3.2 イベント詳細
1. 任意のイベントカードをクリック
2. イベント詳細ページが表示されることを確認：
   - イベント名
   - 開催日時
   - 開催場所
   - 募集規模
   - 募集締切
   - イベント詳細説明
   - 出店条件・注意事項
   - 主催者情報
3. 「詳細を見る」ボタンで主催者情報ページに遷移できることを確認

#### 3.3 主催者情報
1. イベント詳細ページの「主催者情報を詳しく見る」ボタンをクリック
2. 主催者情報ページが表示されることを確認：
   - 会社名
   - 担当者名
   - 連絡先情報（メール、電話番号）

### 4. イベント応募

#### 4.1 応募手続き
1. イベント詳細ページで「このイベントに応募」ボタンをクリック
2. 応募フォームが表示されることを確認
3. メッセージを入力（オプション）
4. 「応募する」ボタンをクリック
5. 応募が完了し、ステータスが「確認中」になることを確認

#### 4.2 応募後の確認
1. ダッシュボードに戻る
2. 「申し込み履歴」または「応募管理」ページにアクセス
3. 応募したイベントが一覧に表示されることを確認
4. ステータスが正しく表示されることを確認

### 5. 申し込み管理

1. 「申し込み履歴」ページにアクセス
2. 応募したイベントの一覧が表示されることを確認
3. 各応募の詳細を確認：
   - イベント名
   - 応募日時
   - ステータス（確認中、承認済み、見送り）
4. ステータスが「承認済み」の場合、チャットボタンが表示されることを確認

### 6. チャット機能

1. 承認済みの応募で「チャット」ボタンをクリック
2. チャット画面が表示されることを確認
3. メッセージを送信
4. メッセージが正しく表示されることを確認

### 7. プロフィール管理

1. 「プロフィール」ページにアクセス
2. 現在のプロフィール情報が表示されることを確認
3. 情報を編集
4. 「保存」ボタンをクリック
5. 変更が保存されることを確認

### 8. ログアウト

1. ヘッダーの「ログアウト」ボタンをクリック
2. ログアウトが成功し、ログインページに遷移することを確認

---

## 🟠 主催者アプリ（Organizer）の動作確認

**URL**: http://localhost:3002

### 1. 認証・登録フロー

#### 1.1 新規登録
1. トップページにアクセス
2. 「新規登録」ボタンをクリック
3. メールアドレスとパスワードを入力して登録
4. 確認メールが送信されることを確認
5. メール内のリンクをクリックしてメール確認を完了

#### 1.2 ログイン
1. 「ログイン」ボタンをクリック
2. 登録済みのメールアドレスとパスワードを入力
3. ログインが成功し、ダッシュボードに遷移することを確認

### 2. オンボーディング（プロフィール作成）

1. ログイン後、未登録の場合はオンボーディングページに遷移
2. 以下の情報を入力：
   - 会社名
   - 担当者名
   - 性別
   - 年齢
   - 電話番号
   - メールアドレス
3. 「登録する」ボタンをクリック
4. 登録が完了し、ダッシュボードに遷移することを確認

### 3. イベント管理

#### 3.1 イベント一覧
1. ダッシュボードにアクセス
2. 作成したイベントの一覧が表示されることを確認
3. イベントカードが正しく表示されることを確認

#### 3.2 イベント作成
1. 「新規イベント作成」ボタンをクリック
2. イベント作成フォームが表示されることを確認
3. 以下の情報を入力：
   - イベント名
   - ジャンル
   - 開催日時
   - 開催場所
   - 募集規模
   - 募集締切
   - イベント詳細説明
   - 出店条件・注意事項
   - 出店料
   - メイン画像
4. 「作成する」ボタンをクリック
5. イベントが作成され、一覧に表示されることを確認

#### 3.3 イベント編集
1. イベント一覧から任意のイベントをクリック
2. イベント詳細ページが表示されることを確認
3. 「イベントを編集」ボタンをクリック
4. 編集フォームが表示されることを確認
5. 情報を変更して「保存」ボタンをクリック
6. 変更が反映されることを確認

#### 3.4 イベント詳細
1. イベント詳細ページで以下を確認：
   - イベント情報が正しく表示される
   - 申し込み一覧が表示される
   - 申し込み数が正しく表示される

### 4. 申し込み管理

#### 4.1 申し込み一覧
1. イベント詳細ページで申し込み一覧を確認
2. 各申し込みの情報が表示されることを確認：
   - 出店者名
   - 店舗名
   - ジャンル
   - 申し込み日時
   - ステータス
   - メッセージ（あれば）

#### 4.2 申し込み承認・拒否
1. ステータスが「確認中」の申し込みで「承認する」ボタンをクリック
2. ステータスが「承認済み」に変更されることを確認
3. 「お断りする」ボタンをクリック
4. ステータスが「見送り」に変更されることを確認
5. 「未処理に戻す」ボタンでステータスを戻せることを確認

#### 4.3 申し込み詳細
1. 「申込管理」ページにアクセス
2. 全イベントの申し込み一覧が表示されることを確認
3. 各申し込みの詳細を確認

### 5. チャット機能

1. 承認済みの申し込みで「チャット」ボタンをクリック
2. チャット画面が表示されることを確認
3. メッセージを送信
4. メッセージが正しく表示されることを確認

### 6. プロフィール管理

1. 「プロフィール」ページにアクセス
2. 現在のプロフィール情報が表示されることを確認
3. 情報を編集：
   - 会社名
   - 担当者名
   - 連絡先情報
   - SNSリンク（オプション）
4. 「保存」ボタンをクリック
5. 変更が保存されることを確認

### 7. ログアウト

1. ヘッダーの「ログアウト」ボタンをクリック
2. ログアウトが成功し、ログインページに遷移することを確認

---

## 🔵 管理者アプリ（Admin）の動作確認

**URL**: http://localhost:3000

### 1. ログイン

1. 管理者用のログインページにアクセス
2. 管理者アカウントでログイン
3. ダッシュボードに遷移することを確認

### 2. 主催者管理

#### 2.1 主催者一覧
1. 「主催者管理」ページにアクセス
2. 主催者一覧が表示されることを確認
3. 各主催者の情報が表示されることを確認：
   - 会社名
   - 担当者名
   - 連絡先
   - 登録日
   - 承認ステータス

#### 2.2 主催者承認
1. 承認待ちの主催者を確認
2. 承認ボタンをクリック
3. ステータスが「承認済み」に変更されることを確認

### 3. イベント管理

1. 「イベント管理」ページにアクセス
2. イベント一覧が表示されることを確認
3. 各イベントの情報が表示されることを確認

---

## 🔄 エンドツーエンド（E2E）テストシナリオ

### シナリオ1: イベント応募の完全フロー

1. **主催者としてイベントを作成**
   - Organizerアプリでログイン
   - 新規イベントを作成
   - イベントを公開状態にする

2. **出店者としてイベントを応募**
   - Storeアプリでログイン
   - 作成したイベントを検索
   - イベント詳細を確認
   - イベントに応募

3. **主催者として申し込みを承認**
   - Organizerアプリで申し込みを確認
   - 申し込みを承認

4. **チャットでやり取り**
   - Storeアプリでチャットを開始
   - Organizerアプリで返信
   - メッセージの送受信が正常に動作することを確認

### シナリオ2: プロフィール更新フロー

1. **出店者としてプロフィールを更新**
   - Storeアプリでプロフィールを編集
   - 変更を保存

2. **主催者としてプロフィールを更新**
   - Organizerアプリでプロフィールを編集
   - 変更を保存

### シナリオ3: 主催者承認フロー

1. **新規主催者が登録**
   - Organizerアプリで新規登録
   - オンボーディングを完了

2. **管理者が承認**
   - Adminアプリでログイン
   - 承認待ちの主催者を確認
   - 主催者を承認

3. **主催者がイベントを作成**
   - Organizerアプリでイベントを作成
   - イベントが正常に作成されることを確認

---

## ✅ 確認チェックリスト

### 出店者アプリ（Store）
- [ ] 新規登録が正常に動作する
- [ ] ログインが正常に動作する
- [ ] パスワードリセットが正常に動作する
- [ ] オンボーディングが正常に完了する
- [ ] イベント一覧が正しく表示される
- [ ] イベント検索が正常に動作する
- [ ] イベント詳細が正しく表示される
- [ ] 主催者情報ページが正しく表示される
- [ ] イベント応募が正常に動作する
- [ ] 申し込み履歴が正しく表示される
- [ ] チャット機能が正常に動作する
- [ ] プロフィール編集が正常に動作する
- [ ] ログアウトが正常に動作する

### 主催者アプリ（Organizer）
- [ ] 新規登録が正常に動作する
- [ ] ログインが正常に動作する
- [ ] オンボーディングが正常に完了する
- [ ] イベント作成が正常に動作する
- [ ] イベント編集が正常に動作する
- [ ] イベント詳細が正しく表示される
- [ ] 申し込み一覧が正しく表示される
- [ ] 申し込み承認・拒否が正常に動作する
- [ ] チャット機能が正常に動作する
- [ ] プロフィール編集が正常に動作する
- [ ] ログアウトが正常に動作する

### 管理者アプリ（Admin）
- [ ] ログインが正常に動作する
- [ ] 主催者一覧が正しく表示される
- [ ] 主催者承認が正常に動作する
- [ ] イベント一覧が正しく表示される

### エンドツーエンド
- [ ] イベント応募の完全フローが正常に動作する
- [ ] チャット機能が正常に動作する
- [ ] 主催者承認フローが正常に動作する

---

## 🐛 よくある問題と対処法

### 問題1: ログインできない
- **原因**: メール確認が完了していない
- **対処**: メール内の確認リンクをクリック

### 問題2: イベントが表示されない
- **原因**: イベントが非公開状態
- **対処**: Organizerアプリでイベントのステータスを「公開中」に変更

### 問題3: 申し込みが承認されない
- **原因**: 主催者が承認待ち状態
- **対処**: Adminアプリで主催者を承認

### 問題4: チャットが表示されない
- **原因**: 申し込みが承認されていない
- **対処**: Organizerアプリで申し込みを承認

---

## 📝 テスト結果の記録

テスト実施日: _______________

### 実施者
- 名前: _______________
- 役割: _______________

### テスト結果
- 成功: ___ / ___
- 失敗: ___ / ___
- スキップ: ___ / ___

### 発見された問題
1. _______________
2. _______________
3. _______________

### 備考
_______________
