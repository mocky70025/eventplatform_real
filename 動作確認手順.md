# 動作確認手順

## 📋 確認項目一覧

### 主催者アプリ
1. ログイン・新規登録
2. 登録フォーム（確認画面含む）
3. 承認待ち状態での動作
4. イベント作成・編集
5. 出店申し込み管理
6. CSVエクスポート
7. プロフィール編集

### 出店者アプリ
1. ログイン・新規登録
2. 登録フォーム（3ステップ）
3. イベント一覧閲覧
4. イベント申し込み
5. 申し込み状況確認
6. プロフィール編集
7. 通知確認

---

## 🎯 主催者アプリ - 動作確認手順

### 1. 新規登録フロー

#### 1-1. 新規登録開始
1. 主催者アプリにアクセス
2. 「新規登録」ボタンをクリック
3. 認証方法を選択（Google または メールアドレス）
4. 認証を完了

**確認ポイント**:
- ✅ 新規登録ボタンが表示される
- ✅ 認証方法選択ができる
- ✅ 認証が正常に完了する

#### 1-2. 登録フォーム入力
1. ステップ1（情報登録）で以下を入力:
   - 会社名: テスト株式会社
   - 名前: テスト太郎
   - 性別: 男性
   - 年齢: 30
   - 電話番号: 09012345678
   - メールアドレス: test@example.com
2. 利用規約を確認してチェック
3. 「次に進む」ボタンをクリック

**確認ポイント**:
- ✅ 必須項目のバリデーションが機能する
- ✅ エラーメッセージが表示される（未入力時）
- ✅ 「次に進む」でステップ2に遷移する

#### 1-3. 情報確認画面
1. ステップ2（情報確認）で入力内容を確認
2. 「修正する」ボタンでステップ1に戻れることを確認
3. 「登録する」ボタンをクリック

**確認ポイント**:
- ✅ 入力内容が正しく表示される
- ✅ 「修正する」でステップ1に戻れる
- ✅ 「登録する」で登録が完了する

#### 1-4. 登録完了後
1. 「登録が完了しました。運営側の承認をお待ちください。」のアラートが表示される
2. 承認待ち画面が表示される
3. ページを再読み込み（F5）
4. ブラウザを閉じて再度開く
5. ログインする

**確認ポイント**:
- ✅ 登録完了メッセージが表示される
- ✅ 承認待ち画面が表示される
- ✅ ページ再読み込み後も承認待ち画面が表示される（登録フォームに戻らない）
- ✅ ブラウザ再起動後も承認待ち画面が表示される

### 2. 承認待ち状態での動作

#### 2-1. イベント管理画面の表示
1. 承認待ち状態でログイン
2. イベント管理画面が表示されることを確認
3. 承認待ちバナーが表示されることを確認

**確認ポイント**:
- ✅ イベント管理画面が表示される（登録フォームに戻らない）
- ✅ 承認待ちバナーが表示される
- ✅ 「新しいイベントを掲載」ボタンが無効化されている（グレーアウト）

#### 2-2. イベント作成ボタンの動作
1. 「新しいイベントを掲載」ボタンをクリック
2. アラートが表示されることを確認

**確認ポイント**:
- ✅ ボタンがクリックできない（無効化されている）
- ✅ クリック時に「運営側の承認が必要です...」のアラートが表示される

### 3. 承認後の動作（運営側で承認後）

#### 3-1. 承認後のログイン
1. 運営側で主催者を承認
2. 主催者アプリでログイン
3. イベント管理画面が表示されることを確認

**確認ポイント**:
- ✅ 承認待ちバナーが表示されない
- ✅ 「新しいイベントを掲載」ボタンが有効化されている
- ✅ イベント一覧が表示される

### 4. イベント作成

#### 4-1. イベント作成フォーム
1. 「新しいイベントを掲載」ボタンをクリック
2. イベント作成フォームが表示される
3. 必須項目を入力:
   - イベント名: テストイベント
   - イベント名（ふりがな）: てすといべんと
   - ジャンル: 祭り
   - 開催開始日: 2024-12-01
   - 開催終了日: 2024-12-31
   - 開催期間表示: 12月1日〜12月31日
   - リード文: テストリード文
   - イベント説明: テストイベント説明
   - 会場名: テスト会場
   - 連絡先名: テスト連絡先
   - 連絡先電話: 09012345678
4. 「保存」ボタンをクリック

**確認ポイント**:
- ✅ フォームが表示される
- ✅ 必須項目のバリデーションが機能する
- ✅ 保存が成功する
- ✅ イベント一覧に表示される

#### 4-2. イベント編集
1. イベント一覧からイベントを選択
2. 「編集」ボタンをクリック
3. 内容を変更して保存

**確認ポイント**:
- ✅ 編集フォームが表示される
- ✅ 既存の値が入力されている
- ✅ 変更が保存される

### 5. 出店申し込み管理

#### 5-1. 申し込み一覧表示
1. イベント一覧からイベントを選択
2. 「申し込みを確認」ボタンをクリック
3. 申し込み一覧が表示される

**確認ポイント**:
- ✅ 申し込み一覧が表示される
- ✅ 出店者情報が表示される
- ✅ 申し込み日時が表示される
- ✅ ステータスが表示される

#### 5-2. 出店者詳細確認
1. 申し込み一覧から出店者を選択
2. 出店者詳細が表示される
3. 営業許可証画像が表示される

**確認ポイント**:
- ✅ 出店者情報が正しく表示される
- ✅ 書類画像が表示される
- ✅ 「期限確認」ボタンが表示される（AI機能はAPIキー待ち）

#### 5-3. 申し込み承認
1. 「承認」ボタンをクリック
2. 確認ダイアログが表示される
3. 「OK」をクリック
4. 承認が完了する

**確認ポイント**:
- ✅ 確認ダイアログが表示される
- ✅ 承認が成功する
- ✅ ステータスが「承認済み」に変わる
- ✅ 通知が送信される（出店者へ）

#### 5-4. 申し込み却下
1. 「却下」ボタンをクリック
2. 確認ダイアログが表示される
3. 「OK」をクリック
4. 却下が完了する

**確認ポイント**:
- ✅ 確認ダイアログが表示される
- ✅ 却下が成功する
- ✅ ステータスが「却下」に変わる
- ✅ 通知が送信される（出店者へ）

#### 5-5. CSVエクスポート
1. 承認済みの申し込みがある状態で
2. 「CSV形式でダウンロード」ボタンをクリック
3. CSVファイルがダウンロードされる

**確認ポイント**:
- ✅ CSVファイルがダウンロードされる
- ✅ ファイル名が正しい（イベント名_日付.csv）
- ✅ 文字化けしない（UTF-8 BOM付き）
- ✅ 出店者情報が正しく含まれている

### 6. プロフィール編集
1. ナビゲーションから「登録情報」を選択
2. プロフィールが表示される
3. 「編集」ボタンをクリック
4. 情報を変更して保存

**確認ポイント**:
- ✅ プロフィールが表示される
- ✅ 編集フォームが表示される
- ✅ 変更が保存される

---

## 🏪 出店者アプリ - 動作確認手順

### 1. 新規登録フロー

#### 1-1. 新規登録開始
1. 出店者アプリにアクセス
2. 「新規登録」ボタンをクリック
3. 認証方法を選択（LINE、Google、または メールアドレス）
4. 認証を完了

**確認ポイント**:
- ✅ 新規登録ボタンが表示される
- ✅ 認証方法選択ができる（LINE、Google、Email）
- ✅ 認証が正常に完了する

#### 1-2. 登録フォーム入力（ステップ1）
1. ステップ1（基本情報）で以下を入力:
   - 名前: テスト花子
   - 性別: 女性
   - 年齢: 25
   - 電話番号: 09012345678
   - メールアドレス: test@example.com
   - ジャンル: フード
   - より詳しいジャンル: たこ焼き
2. 「次に進む」ボタンをクリック

**確認ポイント**:
- ✅ 必須項目のバリデーションが機能する
- ✅ エラーメッセージが表示される（未入力時）
- ✅ 「次に進む」でステップ2に遷移する

#### 1-3. 書類アップロード（ステップ2）
1. ステップ2（書類アップロード）で以下をアップロード:
   - 営業許可証
   - 車検証
   - 自動車検査証
   - PL保険
   - 火器類配置図
2. 「次に進む」ボタンをクリック

**確認ポイント**:
- ✅ 画像アップロードが機能する
- ✅ 画像プレビューが表示される
- ✅ 営業許可証のAI確認ボタンが表示される（APIキー待ち）
- ✅ 「次に進む」でステップ3に遷移する

#### 1-4. 情報確認（ステップ3）
1. ステップ3（情報確認）で入力内容・画像を確認
2. 「修正する」ボタンでステップ1に戻れることを確認
3. 「登録する」ボタンをクリック

**確認ポイント**:
- ✅ 入力内容・画像が正しく表示される
- ✅ 「修正する」でステップ1に戻れる
- ✅ 「登録する」で登録が完了する

#### 1-5. 登録完了後
1. 登録完了メッセージが表示される
2. イベント一覧画面が表示される
3. ページを再読み込み（F5）
4. ブラウザを閉じて再度開く
5. ログインする

**確認ポイント**:
- ✅ 登録完了後、イベント一覧が表示される
- ✅ ページ再読み込み後もイベント一覧が表示される（登録フォームに戻らない）
- ✅ ブラウザ再起動後もイベント一覧が表示される

### 2. イベント一覧閲覧

#### 2-1. イベント一覧表示
1. ログイン後、イベント一覧が表示される
2. イベントカードが表示される

**確認ポイント**:
- ✅ イベント一覧が表示される
- ✅ イベントカードに以下が表示される:
   - イベント名
   - 開催期間
   - 会場
   - ジャンル
   - 「申し込む」ボタン

### 3. イベント申し込み

#### 3-1. イベント申し込み
1. イベントカードから「申し込む」ボタンをクリック
2. 確認ダイアログが表示される
3. 「OK」をクリック
4. 申し込みが完了する

**確認ポイント**:
- ✅ 確認ダイアログが表示される
- ✅ 申し込みが成功する
- ✅ 通知が送信される（主催者へ）
- ✅ 申し込み状況画面で「承認待ち」と表示される

### 4. 申し込み状況確認

#### 4-1. 申し込み一覧
1. ナビゲーションから「申し込み」を選択
2. 申し込み一覧が表示される

**確認ポイント**:
- ✅ 申し込み一覧が表示される
- ✅ イベント名、申し込み日時、ステータスが表示される
- ✅ ステータスが正しく表示される:
   - pending: 承認待ち
   - approved: 承認済み
   - rejected: 却下

### 5. 通知確認

#### 5-1. 通知一覧
1. ナビゲーションから「通知」を選択
2. 通知一覧が表示される
3. 未読通知数がバッジに表示される

**確認ポイント**:
- ✅ 通知一覧が表示される
- ✅ 未読通知数がバッジに表示される
- ✅ 通知をクリックすると既読になる
- ✅ 既読/未読が視覚的に区別される

### 6. プロフィール編集
1. ナビゲーションから「登録情報」を選択
2. プロフィールが表示される
3. 「編集」ボタンをクリック
4. 情報を変更して保存

**確認ポイント**:
- ✅ プロフィールが表示される
- ✅ 書類画像が表示される
- ✅ 編集フォームが表示される
- ✅ 変更が保存される

---

## 🔍 共通確認項目

### 認証関連
- ✅ Googleログインが正常に動作する
- ✅ メールアドレスログインが正常に動作する
- ✅ LINEログインが正常に動作する（出店者アプリのみ）
- ✅ ログアウトが正常に動作する
- ✅ セッションが正しく保持される

### レスポンシブデザイン
- ✅ モバイル（〜767px）で正常に表示される
- ✅ タブレット（768px〜1023px）で正常に表示される
- ✅ デスクトップ（1024px〜）で正常に表示される

### エラーハンドリング
- ✅ ネットワークエラー時に適切なメッセージが表示される
- ✅ バリデーションエラーが正しく表示される
- ✅ 認証エラーが正しく処理される

---

## 🐛 既知の問題・制約事項

1. **営業許可証AI確認**: APIキー設定待ち（機能は実装済み）
2. **アニメーション**: ユーザー要望により削除済み
3. **Google Sheets連携**: 削除済み（CSVエクスポートに置き換え）

---

## 📝 確認結果記録

### 主催者アプリ
- [ ] 新規登録フロー
- [ ] 承認待ち状態での動作
- [ ] 承認後の動作
- [ ] イベント作成
- [ ] イベント編集
- [ ] 出店申し込み管理
- [ ] CSVエクスポート
- [ ] プロフィール編集

### 出店者アプリ
- [ ] 新規登録フロー
- [ ] イベント一覧閲覧
- [ ] イベント申し込み
- [ ] 申し込み状況確認
- [ ] 通知確認
- [ ] プロフィール編集

### 共通
- [ ] 認証関連
- [ ] レスポンシブデザイン
- [ ] エラーハンドリング

---

**確認日**: ___________  
**確認者**: ___________  
**備考**: ___________

