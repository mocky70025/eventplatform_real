# 営業許可証テスト用画像の準備方法

## 方法1: 実際の営業許可証を使用（推奨）

### メリット
- 本物の形式なので、AIが正しく読み取れる可能性が高い
- 実際の使用ケースに近い

### 注意点
- 個人情報が含まれているため、テスト後は削除する
- 本番環境で使用する場合は、実際の出店者の営業許可証を使用

### 手順
1. 実際の営業許可証をスマホで撮影
2. 画像をアップロードしてテスト
3. テスト完了後、画像を削除

## 方法2: テスト用のモック画像を作成

### メリット
- 個人情報が含まれない
- 期限を自由に設定できる（期限内/期限切れの両方をテスト可能）

### 作成方法

#### A. 画像編集ソフトで作成
- Photoshop、GIMP、Canvaなどで営業許可証風の画像を作成
- 以下の情報を含める：
  - 営業許可証のタイトル
  - 有効期限（満了日、有効期限日など）
  - その他の項目（任意）

#### B. テンプレートを使用
- 営業許可証のテンプレートを探して使用
- 期限を変更してテスト

### 期限の設定例
- **期限内**: 有効期限を未来の日付に設定（例: 2025-12-31）
- **期限切れ**: 有効期限を過去の日付に設定（例: 2023-12-31）

## 方法3: 既存の画像を加工

### 手順
1. 既存の営業許可証の画像を取得（個人情報をマスク）
2. 有効期限の部分だけを編集
3. 期限を変更してテスト

## 方法4: サンプル画像を探す

### 注意点
- 個人情報が含まれている可能性がある
- 著作権に注意
- テスト用途のみに使用

### 探し方
- 「営業許可証 サンプル」「営業許可証 テンプレート」で検索
- 個人情報が含まれていないものを選ぶ

## 推奨されるテストケース

### ケース1: 期限内の営業許可証
- 有効期限: 未来の日付（例: 2025-12-31）
- 期待結果: `yes`（有効）

### ケース2: 期限切れの営業許可証
- 有効期限: 過去の日付（例: 2023-12-31）
- 期待結果: `no`（期限切れ）

### ケース3: 期限が見つからない場合
- 有効期限の記載がない画像
- 期待結果: `no`（期限切れとして扱う）

## 画像の要件

### 形式
- JPEG、PNG、GIF、WebP、HEIC形式に対応
- ファイルサイズ: 10MB以下

### 推奨サイズ
- 解像度: 最低800x600ピクセル以上
- 文字が読みやすいこと

### 注意事項
- 画像がぼやけていると、AIが正しく読み取れない可能性がある
- 明るさが適切であること
- 文字がはっきり見えること

## テスト手順

### 出店者登録時のテスト
1. 出店者アプリにアクセス
2. 新規登録を開始
3. 営業許可証の画像をアップロード
4. アップロード完了後、自動で期限確認が実行されることを確認
5. 結果が正しく表示されることを確認

### 主催者側のテスト
1. 主催者アプリにログイン
2. イベントの申し込み管理画面を開く
3. 出店者の詳細を表示
4. 「期限確認」ボタンをクリック
5. 結果が正しく表示されることを確認

## トラブルシューティング

### AIが期限を正しく読み取れない場合
- 画像の解像度を上げる
- 画像を明るくする
- 有効期限の部分がはっきり見えるようにする
- 画像を再撮影する

### エラーが発生する場合
- 環境変数 `OPENAI_API_KEY` が正しく設定されているか確認
- 画像のURLが正しく取得できているか確認
- ブラウザのコンソールでエラーメッセージを確認

## セキュリティに関する注意

- 実際の営業許可証を使用する場合は、テスト後必ず削除する
- 本番環境では、実際の出店者の営業許可証のみを使用する
- テスト用の画像は、個人情報が含まれていないことを確認する

