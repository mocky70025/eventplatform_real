# 通知機能の環境変数設定手順

## 必要な環境変数

通知機能を動作させるために、以下の環境変数をVercelに設定してください。

### 1. store-web プロジェクト

以下の環境変数を追加：

```
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
RESEND_API_KEY=your_resend_api_key（オプション）
RESEND_FROM_EMAIL=noreply@yourdomain.com（オプション）
```

### 2. organizer-web プロジェクト

以下の環境変数を追加：

```
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
RESEND_API_KEY=your_resend_api_key（オプション）
RESEND_FROM_EMAIL=noreply@yourdomain.com（オプション）
```

## 環境変数の取得方法

### SUPABASE_SERVICE_ROLE_KEY

1. Supabase Dashboardにログイン
2. プロジェクトを選択
3. 「Settings」→「API」を開く
4. 「Project API keys」セクションの「service_role」キーをコピー
   - ⚠️ **重要**: このキーは機密情報です。絶対に公開しないでください。

### RESEND_API_KEY（オプション）

メール通知機能を使用する場合のみ必要です。

1. [Resend](https://resend.com/)にアカウントを作成
2. 「API Keys」からAPIキーを作成
3. APIキーをコピー

### RESEND_FROM_EMAIL（オプション）

メール通知機能を使用する場合のみ必要です。

- Resendで認証済みのメールアドレスを設定
- 例: `noreply@yourdomain.com`

## 注意事項

- `RESEND_API_KEY`と`RESEND_FROM_EMAIL`が設定されていない場合、メール通知は送信されませんが、アプリ内通知は正常に動作します。
- `SUPABASE_SERVICE_ROLE_KEY`が設定されていない場合、通知の作成に失敗します。

## 設定後の確認

環境変数を設定したら、Vercelで再デプロイしてください。

