# スキーマ適用後の次のステップ

## ✅ 完了したこと
- [x] 新しいSupabaseプロジェクトの作成
- [x] 環境変数の設定

## 📋 次のステップ

### ステップ1: データベーススキーマの適用確認

Supabaseダッシュボードで以下を確認してください：

```sql
-- すべてのテーブルを確認
SELECT table_name 
FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;
```

以下のテーブルが存在することを確認：
- ✅ `exhibitors`
- ✅ `organizers`
- ✅ `events`
- ✅ `event_applications`
- ✅ `form_drafts`

### ステップ2: ストレージの設定

1. **SupabaseダッシュボードでStorageを開く**
   - 左メニューから「Storage」を選択

2. **方法A: UIでバケットを作成（推奨）**
   - 「Create bucket」をクリック
   - バケット名: `event-images`
   - Public bucket: ✅ チェック（画像を公開するため）
   - 「Create bucket」をクリック

3. **方法B: SQLでバケットを作成**
   - SQL Editorで `supabase_storage_setup.sql` を実行

### ステップ3: 動作確認

#### 3-1. 開発サーバーの起動

```bash
# 出店者用（ターミナル1）
cd store
npm run dev

# 主催者用（ターミナル2）
cd organizer
npm run dev
```

#### 3-2. ブラウザで確認

- 出店者用: http://localhost:3001
- 主催者用: http://localhost:3002

#### 3-3. 主催者用アプリの動作確認

1. **新規登録**
   - メールアドレスとパスワードでアカウント作成
   - 登録確認メールが送信される（開発環境では確認不要の場合あり）

2. **ログイン**
   - 作成したアカウントでログイン

3. **主催者情報の登録**
   - 基本情報を入力して登録

4. **イベントの作成**
   - イベント掲載フォームでイベントを作成

#### 3-4. 出店者用アプリの動作確認

1. **LINEログイン**
   - LINEアカウントでログイン

2. **出店者情報の登録**
   - 基本情報を入力して登録

3. **イベント一覧の表示**
   - イベント一覧が表示されることを確認

### ステップ4: エラーの確認

ブラウザの開発者ツール（F12）で以下を確認：

1. **コンソールエラー**
   - エラーがないか確認

2. **ネットワークタブ**
   - Supabaseへのリクエストが正常に送信されているか確認

3. **Supabaseダッシュボードのログ**
   - Settings → Logs でエラーログを確認

## 🔧 トラブルシューティング

### エラー: "relation does not exist"
- スキーマが正しく適用されていない可能性があります
- `supabase_schema_new.sql` を再実行してください

### エラー: "permission denied"
- RLSポリシーが正しく設定されているか確認
- Supabaseダッシュボードの「Authentication」でユーザーが作成されているか確認

### エラー: "Invalid API key"
- 環境変数が正しく設定されているか確認
- `.env.local` ファイルの内容を確認
- 開発サーバーを再起動

### 画像がアップロードできない
- ストレージバケットが作成されているか確認
- バケットのパブリック設定を確認

## 📝 チェックリスト

- [ ] データベーススキーマが適用された
- [ ] ストレージバケットが作成された
- [ ] 主催者用アプリで新規登録ができる
- [ ] 主催者用アプリでログインができる
- [ ] 主催者情報の登録ができる
- [ ] イベントの作成ができる
- [ ] 出店者用アプリでLINEログインができる
- [ ] 出店者情報の登録ができる
- [ ] イベント一覧が表示される

## 🎉 完了後

すべてのチェック項目が完了したら、本番環境（Vercel）へのデプロイ準備に進みます。




