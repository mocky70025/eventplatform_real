# 本番環境リリースチェックリスト

## 🎯 目標
**実際の現場で使える状態にする**

---

## ✅ 必須対応項目（本番リリース前に完了必須）

### 1. 運営管理ダッシュボードの認証追加 ⚠️ **重要**
**現状**: 認証なしで誰でもアクセス可能（セキュリティリスク）

**対応内容**:
- [ ] 管理者用の認証機能を追加
- [ ] 環境変数で管理者のメールアドレスを設定
- [ ] 認証なしのアクセスを拒否

**優先度**: 🔴 **最高**（セキュリティ上、最優先）

---

### 2. 動作確認の完了

#### store-web（出店者アプリ - Web環境）
- [ ] メール認証での新規登録が動作する
- [ ] メール認証でのログインが動作する
- [ ] 登録フォームが正常に動作する
- [ ] イベント一覧・詳細・申し込みが動作する
- [ ] 登録情報の表示・編集が動作する

#### store-liff（出店者アプリ - LIFF環境）
- [ ] LINE認証での新規登録が動作する
- [ ] LINE認証でのログインが動作する
- [ ] 登録フォームが正常に動作する
- [ ] イベント一覧・詳細・申し込みが動作する
- [ ] 登録情報の表示・編集が動作する

#### organizer-web（主催者アプリ - Web環境）
- [ ] メール認証での新規登録が動作する
- [ ] メール認証でのログインが動作する
- [ ] 登録フォームが正常に動作する
- [ ] イベントの作成・編集・管理が動作する
- [ ] 申し込み状況の確認・変更が動作する

#### admin（運営管理ダッシュボード）
- [ ] 主催者一覧が表示される
- [ ] 主催者の承認/非承認が動作する
- [ ] イベント一覧が表示される
- [ ] イベントの承認/非承認が動作する

---

### 3. メール送信の設定確認

**現状**: 開発中はメール確認を無効化

**本番環境での対応**:
- [ ] Supabase Dashboardでメール確認を有効化するか判断
- [ ] メール確認を有効化する場合、メール送信が正常に動作することを確認
- [ ] メール確認を無効化する場合、その理由を文書化

**優先度**: 🟡 **中**（メール確認なしでも動作は可能）

---

### 4. エラーハンドリングの確認

- [ ] ブラウザのコンソールにエラーが表示されない
- [ ] ネットワークエラーが発生しない
- [ ] 認証フローでエラーが発生しない
- [ ] データ保存時にエラーが発生しない

---

### 5. 環境変数の最終確認

各Vercelプロジェクトで以下を確認：

#### store-web
- [ ] `NEXT_PUBLIC_SUPABASE_URL` が正しい
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` が正しい
- [ ] `NEXT_PUBLIC_APP_URL` が正しい

#### store-liff
- [ ] `NEXT_PUBLIC_SUPABASE_URL` が正しい
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` が正しい
- [ ] `NEXT_PUBLIC_LINE_LOGIN_CHANNEL_ID` が正しい
- [ ] `LINE_LOGIN_CHANNEL_SECRET` が正しい
- [ ] `NEXT_PUBLIC_LINE_LOGIN_REDIRECT_URI` が正しい
- [ ] `NEXT_PUBLIC_APP_URL` が正しい

#### organizer-web
- [ ] `NEXT_PUBLIC_SUPABASE_URL` が正しい
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` が正しい
- [ ] `NEXT_PUBLIC_APP_URL` が正しい

#### admin
- [ ] `NEXT_PUBLIC_SUPABASE_URL` が正しい
- [ ] `NEXT_PUBLIC_SUPABASE_ANON_KEY` が正しい
- [ ] `NEXT_PUBLIC_APP_URL` が正しい

---

## 🔧 推奨対応項目（時間があれば対応）

### 1. イベント検索機能
- [ ] イベント名で検索できる
- [ ] ジャンルでフィルタリングできる
- [ ] 開催日でフィルタリングできる

**優先度**: 🟢 **低**（なくても動作は可能）

---

### 2. UI/UXの改善
- [ ] エラーメッセージが分かりやすい
- [ ] ローディング表示が適切
- [ ] レスポンシブデザインが適切

**優先度**: 🟢 **低**（なくても動作は可能）

---

## 📋 リリース前の最終確認

### セキュリティ
- [x] 運営管理ダッシュボードに認証を追加（未対応）
- [ ] 環境変数が正しく設定されている
- [ ] 機密情報がコードに含まれていない

### パフォーマンス
- [ ] ページの読み込みが速い
- [ ] 画像のアップロードが正常に動作する
- [ ] データの取得が正常に動作する

### ユーザビリティ
- [ ] 基本的な機能が動作する
- [ ] エラーが発生した場合、適切なメッセージが表示される
- [ ] モバイルでも動作する

---

## 🚀 リリース手順

1. **必須対応項目を完了**
   - 特に運営管理ダッシュボードの認証追加は必須

2. **動作確認を完了**
   - すべてのアプリで基本機能が動作することを確認

3. **環境変数の最終確認**
   - すべての環境変数が正しく設定されていることを確認

4. **リリース**
   - 本番環境として公開

---

## ⚠️ 注意事項

### メール送信について
- 開発中はメール確認を無効化している
- 本番環境でメール確認を有効化する場合は、メール送信が正常に動作することを確認すること
- メール確認を無効化する場合は、その理由を文書化すること

### 運営管理ダッシュボードについて
- **現在は認証なしで誰でもアクセス可能**
- **本番環境では必ず認証を追加すること**
- 認証なしで公開すると、誰でも主催者やイベントの承認/非承認ができてしまう

---

## 📝 完了条件

以下のすべてが完了すれば、本番環境として公開可能：

- [x] 運営管理ダッシュボードに認証を追加（未対応）
- [ ] すべてのアプリで動作確認が完了
- [ ] 環境変数が正しく設定されている
- [ ] エラーが発生しない
- [ ] 基本的な機能が動作する

