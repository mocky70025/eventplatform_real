# 通知機能デバッグ手順

## 1. ブラウザのコンソールログを確認

### store-webでイベントに申し込む際のログ

1. store-webを開く
2. ブラウザの開発者ツール（F12）を開く
3. Consoleタブを選択
4. イベントに申し込む
5. 以下のログを確認：

```
[EventList] Organizer ID: ...
[EventList] Organizer data: ...
[EventList] Organizer error: ...
[EventList] Organizer user ID: ...
[EventList] Creating notification...
[EventList] Notification response: ... ...
```

### 確認ポイント

- `[EventList] Organizer user ID:` が `null` や `undefined` になっていないか
- `[EventList] Notification response:` のステータスコードが `200` か
- エラーメッセージが表示されていないか

## 2. Supabaseで通知テーブルを確認

### SQL Editorで実行

```sql
-- 通知が作成されているか確認
SELECT * FROM notifications 
WHERE user_type = 'organizer' 
ORDER BY created_at DESC 
LIMIT 5;
```

## 3. 主催者のuser_idを確認

### SQL Editorで実行

```sql
-- 主催者のuser_idとline_user_idを確認
SELECT id, company_name, email, user_id, line_user_id 
FROM organizers 
ORDER BY created_at DESC 
LIMIT 5;
```

## 4. Vercelの環境変数を確認

- `SUPABASE_SERVICE_ROLE_KEY` が設定されているか確認
- store-webプロジェクトの環境変数を確認

## 5. APIルートのログを確認

Vercelのデプロイログで、`/api/notifications/create` のリクエストが来ているか確認

