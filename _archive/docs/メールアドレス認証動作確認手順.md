# メールアドレス認証動作確認手順

## 確認項目

### 1. 新規登録（メールアドレス・パスワード）

1. アプリケーションにアクセス
2. **「新規登録」** をクリック
3. **「メールアドレスで新規登録」** をクリック
4. 以下を入力：
   - メールアドレス（例: `test@example.com`）
   - パスワード（6文字以上）
   - パスワード（確認）
5. **「登録する」** をクリック
6. ✅ 正常に登録され、登録情報入力画面に遷移することを確認

### 2. ログイン（メールアドレス・パスワード）

1. アプリケーションにアクセス（ログアウト状態）
2. **「ログイン」** をクリック
3. **「メールアドレスでログイン」** をクリック
4. 登録時に使用したメールアドレスとパスワードを入力
5. **「ログイン」** をクリック
6. ✅ 正常にログインし、登録情報画面またはイベント一覧が表示されることを確認

### 3. LINE Loginとの併用確認

1. **LINEでログイン** が正常に動作することを確認
2. **LINEで新規登録** が正常に動作することを確認
3. ✅ メールアドレス認証とLINE Loginの両方が正常に動作することを確認

### 4. 登録情報の保存・表示確認

#### 出店者アプリ（store）
1. メールアドレス・パスワードで新規登録
2. 登録情報を入力・保存
3. 登録情報ページで情報が正しく表示されることを確認
4. 登録情報編集が正常に動作することを確認

#### 主催者アプリ（organizer）
1. メールアドレス・パスワードで新規登録
2. 登録情報を入力・保存
3. 登録情報ページで情報が正しく表示されることを確認
4. 登録情報編集が正常に動作することを確認

### 5. イベント関連機能の確認

#### 出店者アプリ
1. メールアドレス・パスワードでログイン
2. イベント一覧が表示されることを確認
3. イベント詳細が表示されることを確認
4. イベント申し込みが正常に動作することを確認

#### 主催者アプリ
1. メールアドレス・パスワードでログイン
2. イベント作成が正常に動作することを確認
3. イベント一覧が表示されることを確認
4. 申し込み管理が正常に動作することを確認

## トラブルシューティング

### ログインできない場合

1. **ブラウザのコンソールを確認**
   - エラーメッセージを確認
   - `F12` キーで開発者ツールを開く

2. **Supabase Dashboardで確認**
   - Authentication > Users でユーザーが作成されているか確認
   - ユーザーのメールアドレスが正しいか確認

3. **パスワードの確認**
   - 6文字以上であることを確認
   - 大文字・小文字・数字を含むことを推奨

### 登録情報が保存されない場合

1. **ブラウザのコンソールを確認**
   - エラーメッセージを確認

2. **Supabase Dashboardで確認**
   - Table Editor > exhibitors（またはorganizers）でデータが保存されているか確認
   - `user_id` カラムに値が入っているか確認

### セッションが維持されない場合

1. **ブラウザの設定を確認**
   - Cookieが有効になっているか確認
   - プライベートモード/シークレットモードでないか確認

2. **Supabase Authの設定を確認**
   - Authentication > Settings でセッション設定を確認

## 確認完了チェックリスト

- [ ] メールアドレス・パスワードで新規登録できる
- [ ] メールアドレス・パスワードでログインできる
- [ ] LINE Loginが正常に動作する
- [ ] 登録情報が正しく保存・表示される
- [ ] 登録情報編集が正常に動作する
- [ ] イベント関連機能が正常に動作する
- [ ] 出店者アプリと主催者アプリの両方で動作する

## 次のステップ

動作確認が完了したら、本番環境での使用準備が整います。

必要に応じて、以下も検討してください：
- パスワードリセット機能
- メール確認機能
- 二要素認証（2FA）

